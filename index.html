<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <title>Ù…Ù†ÙŠÙˆ Ø§Ù„Ø£ÙƒÙ„ Ø§Ù„Ù…ØºØ±Ø¨ÙŠ</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    body { background:#f8f9fa; }
    .item-card { background:#fff; border-radius:10px; padding:15px; margin-bottom:15px; }
    .item-card img { max-width: 100px; margin-bottom:10px; border-radius:8px; }
  </style>
</head>
<body class="container py-4">

<h3 class="text-center mb-4">ğŸ½ï¸ Ù…Ù†ÙŠÙˆ Ø§Ù„Ø£ÙƒÙ„ Ø§Ù„Ù…ØºØ±Ø¨ÙŠ</h3>

<!-- ====== Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª ====== -->
<div id="menu"></div>

<hr>

<!-- ====== Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø²Ø¨ÙˆÙ† ====== -->
<h5>ğŸ“‹ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø²Ø¨ÙˆÙ†</h5>
<input id="name" class="form-control mb-2" placeholder="Ø§Ù„Ø§Ø³Ù…">
<input id="phone" class="form-control mb-2" placeholder="Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ">
<input id="date" class="form-control mb-2" type="date" placeholder="ØªØ§Ø±ÙŠØ® Ø§Ù„ØªÙˆØµÙ„">

<!-- ====== Ø§Ù„Ø£Ø²Ø±Ø§Ø± ====== -->
<button id="calculateBtn" class="btn btn-primary mt-3">Ø§Ø­Ø³Ø¨ Ø§Ù„Ø«Ù…Ù† Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ</button>
<p id="total" class="mt-2 fw-bold"></p>

<a id="orderButton" href="#" target="_blank">
  <button class="btn btn-success mt-2">Ø§Ø·Ù„Ø¨ Ø§Ù„Ø¢Ù†</button>
</a>

<script>
// ====== Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª ======
const products = [
  {name: "Ø§Ù„Ù…Ø³Ù…Ù† Ø§Ù„Ø¹Ø§Ø¯ÙŠ", price: 45, unit: "Ù‚Ø·Ø¹Ø©", img: "https://via.placeholder.com/100"},
  {name: "Ø§Ù„Ù…Ø³Ù…Ù† Ø§Ù„Ù…Ø¹Ù…Ø±", price: 55, unit: "Ù‚Ø·Ø¹Ø©", img: "https://via.placeholder.com/100"},
  {name: "Ù…Ù…Ù„Ø­Ø§Øª", price: 120, unit: "Ù‚Ø·Ø¹Ø©", img: "https://via.placeholder.com/100"},
  {name: "Ø§Ù„Ø¨Ø³Ø·ÙŠÙ„Ø©", price: 350, unit: "Ù‚Ø·Ø¹Ø©", img: "https://via.placeholder.com/100"},
  {name: "Ø³Ù„Ù„Ùˆ", price: 1500, unit: "ÙƒÙ„Øº", img: "https://via.placeholder.com/100"},
  {name: "Ø¨Ù„ÙŠØºØ§Øª Ø¨Ø§Ù„Ù„ÙˆØ²", price: 1200, unit: "ÙƒÙ„Øº", img: "https://via.placeholder.com/100"},
  {name: "Ø¨Ø±ÙŠÙˆØ§Øª Ø¨Ø§Ù„ÙƒÙØªØ©", price: 1100, unit: "ÙƒÙ„Øº", img: "https://via.placeholder.com/100"},
  {name: "Ø¨Ø±ÙŠÙˆØ§Øª Ø¨Ø§Ù„Ø¯Ø¬Ø§Ø¬", price: 1000, unit: "ÙƒÙ„Øº", img: "https://via.placeholder.com/100"},
  {name: "Ø¨Ø±ÙŠÙˆØ§Øª Ø¨Ø§Ù„Ø­ÙˆØª", price: 1200, unit: "ÙƒÙ„Øº", img: "https://via.placeholder.com/100"},
  {name: "Ø­Ù„ÙˆØ© Ø¨Ø§Ù„ØªÙ…Ø±", price: 1150, unit: "ÙƒÙ„Øº", img: "https://via.placeholder.com/100"},
  {name: "ØºØ±ÙŠØ¨Ø© Ø¨Ø§Ù„Ù„ÙˆØ²", price: 1200, unit: "ÙƒÙ„Øº", img: "https://via.placeholder.com/100"},
  {name: "ØºØ±ÙŠØ¨Ø© Ø¨Ø§Ù„Ø¬ÙˆØ²", price: 1500, unit: "ÙƒÙ„Øº", img: "https://via.placeholder.com/100"},
  {name: "Ø§Ù„ÙÙ‚Ø§Øµ", price: 1000, unit: "ÙƒÙ„Øº", img: "https://via.placeholder.com/100"}
];

// ====== Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø¨Ø·Ø§Ù‚Ø§Øª ======
const menuDiv = document.getElementById("menu");
products.forEach((product, index) => {
  const div = document.createElement("div");
  div.className = "item-card";
  div.innerHTML = `
    <img src="${product.img}" alt="${product.name}">
    <strong>${product.name}</strong> (${product.price} Ø±ÙˆØ¨Ù„ / ${product.unit})
    <input type="number" class="form-control mt-2" placeholder="Ø§Ù„ÙƒÙ…ÙŠØ© ${product.unit}" data-index="${index}">
  `;
  menuDiv.appendChild(div);
});

// ====== Ø­Ø³Ø§Ø¨ Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹ ======
document.getElementById("calculateBtn").addEventListener("click", function() {
  let total = 0;
  const items = document.querySelectorAll(".item-card input");
  let orderDetails = "";

  items.forEach(input => {
    const qty = parseFloat(input.value) || 0;
    const product = products[input.dataset.index];
    if(qty > 0){
      total += qty * product.price;
      orderDetails += `${product.name}: ${qty} ${product.unit} - ${qty * product.price} Ø±ÙˆØ¨Ù„\n`;
    }
  });

  document.getElementById("total").innerText = "Ø§Ù„Ø«Ù…Ù† Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ: " + total.toFixed(2) + " Ø±ÙˆØ¨Ù„";

  // Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ø±Ø§Ø¨Ø· Ù„Ù„Ø¨ÙˆØª
  const name = document.getElementById("name").value || "ØºÙŠØ± Ù…Ø­Ø¯Ø¯";
  const phone = document.getElementById("phone").value || "ØºÙŠØ± Ù…Ø­Ø¯Ø¯";
  const date = document.getElementById("date").value || "ØºÙŠØ± Ù…Ø­Ø¯Ø¯";
  const msg = encodeURIComponent(
    `Ø·Ù„Ø¨ Ø§Ù„Ø£ÙƒÙ„ Ø§Ù„Ù…ØºØ±Ø¨ÙŠ\nØ§Ù„Ø§Ø³Ù…: ${name}\nØ§Ù„Ù‡Ø§ØªÙ: ${phone}\nØªØ§Ø±ÙŠØ® Ø§Ù„ØªÙˆØµÙ„: ${date}\n${orderDetails}Ø§Ù„Ø«Ù…Ù† Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ: ${total.toFixed(2)} Ø±ÙˆØ¨Ù„`
  );

  document.getElementById("orderButton").href = "https://t.me/Moroccanfood_bot?start=" + msg;
});
</script>

</body>
</html>
